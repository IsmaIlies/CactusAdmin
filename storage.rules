rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Nouveautés PDFs
    match /news/{allPaths=**} {
      // Lecture pour tout utilisateur authentifié
      allow read: if request.auth != null;
      // Ecriture réservée aux rôles avancés
      allow write: if request.auth != null &&
        (request.auth.token.admin == true ||
         request.auth.token.direction == true ||
         request.auth.token.superviseur == true);
    }

    // Par défaut, rien d'autre n'est autorisé
  }
}

